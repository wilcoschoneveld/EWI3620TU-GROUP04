<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Element.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;EWI3620TU-GROUP04&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.source.html" class="el_package">patient04.editor.elements</a> &gt; <span class="el_source">Element.java</span></div><h1>Element.java</h1><pre class="source lang-java linenums">package patient04.editor.elements;

import org.lwjgl.opengl.GL11;
import java.awt.Color;
import patient04.editor.Level;

/**
 *
 * @author Wilco
 */
public abstract class Element implements Comparable&lt;Element&gt; {
    protected final Level level;
    protected int priority;
    
    abstract public void draw(int target);
    abstract public void translate(int target, float dx, float dz);
    abstract public int select(boolean selected, float x, float z);
    abstract public boolean release();
    
<span class="nc" id="L20">    public Element(Level level) {</span>
<span class="nc" id="L21">        this.level = level;</span>
<span class="nc" id="L22">    }</span>
    
    @Override
    public int compareTo(Element other) {
<span class="nc" id="L26">        return priority - other.priority;</span>
    }
    
    @Override
    public String toString() {
<span class="nc" id="L31">        return &quot;undefined&quot;;</span>
    }
    
    public Element fromString(String str) {
<span class="nc" id="L35">        return null;</span>
    }
    
    public static void glAttribute(float x, float z, float angle,
                                     float length, float radius, Color color) {
<span class="nc" id="L40">            float lx = (float) +Math.cos(angle) * length;</span>
<span class="nc" id="L41">            float lz = (float) -Math.sin(angle) * length;</span>
            
<span class="nc" id="L43">            GL11.glDisable(GL11.GL_TEXTURE_2D);</span>
            
<span class="nc" id="L45">            GL11.glLineWidth(3);</span>
            
<span class="nc" id="L47">            GL11.glColor3f(1, 1, 1);</span>
<span class="nc" id="L48">            GL11.glBegin(GL11.GL_LINES);</span>
<span class="nc" id="L49">            GL11.glVertex2f(x, z);</span>
<span class="nc" id="L50">            GL11.glVertex2f(x + lx, z + lz);</span>
<span class="nc" id="L51">            GL11.glEnd();</span>
            
<span class="nc" id="L53">            glCircle(x + lx, z + lz, radius,</span>
                                            false, color, color, false, 20);
            
<span class="nc" id="L56">            glCircle(x + lx, z + lz, radius,</span>
                                    true, null, Color.WHITE, false, 20);
            
<span class="nc" id="L59">            GL11.glLineWidth(1);</span>
<span class="nc" id="L60">    }</span>
    
    public static void glCircle(float x, float y, float radius, boolean stroke,
            Color inner, Color outer, boolean clockwise, int segments) {
<span class="nc" id="L64">        GL11.glDisable(GL11.GL_TEXTURE_2D);</span>
        
<span class="nc" id="L66">        GL11.glPushMatrix();</span>
<span class="nc" id="L67">        GL11.glTranslatef(x, y, 0);</span>
<span class="nc" id="L68">        GL11.glScalef(radius, radius, 0);</span>
        
<span class="nc bnc" id="L70" title="All 2 branches missed.">        float lthe = (clockwise ? 2 : -2) * 3.1415926f;        </span>
<span class="nc" id="L71">        float lcos = (float) Math.cos(lthe / segments);</span>
<span class="nc" id="L72">        float lsin = (float) Math.sin(lthe / segments);</span>
        
<span class="nc" id="L74">        float lx = 1, ly = 0;</span>
        
<span class="nc bnc" id="L76" title="All 2 branches missed.">        if (stroke)</span>
<span class="nc" id="L77">            GL11.glBegin(GL11.GL_LINE_LOOP);</span>
        else {
<span class="nc" id="L79">            GL11.glBegin(GL11.GL_TRIANGLE_FAN);</span>
            
<span class="nc" id="L81">            float[] cI = inner.getComponents(null);</span>
<span class="nc" id="L82">            GL11.glColor4f(cI[0], cI[1], cI[2], cI[3]);</span>
            
<span class="nc" id="L84">            GL11.glVertex2f(0, 0);    </span>
        }
        
<span class="nc" id="L87">        float[] cO = outer.getComponents(null);</span>
<span class="nc" id="L88">        GL11.glColor4f(cO[0], cO[1], cO[2], cO[3]);</span>
        
<span class="nc" id="L90">        GL11.glVertex2f(1, 0);</span>
        
<span class="nc bnc" id="L92" title="All 2 branches missed.">        for (int i = 1; i &lt; segments; i++) {</span>
            
<span class="nc" id="L94">            float px = lx;</span>
            
<span class="nc" id="L96">            lx = lcos * lx - lsin * ly;</span>
<span class="nc" id="L97">            ly = lsin * px + lcos * ly;</span>
            
<span class="nc" id="L99">            GL11.glVertex2f(lx, ly);</span>
        }
        
<span class="nc bnc" id="L102" title="All 2 branches missed.">        if (!stroke)</span>
<span class="nc" id="L103">            GL11.glVertex2f(1, 0);</span>
        
<span class="nc" id="L105">        GL11.glEnd();</span>
        
<span class="nc" id="L107">        GL11.glPopMatrix();</span>
<span class="nc" id="L108">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312101107</span></div></body></html>